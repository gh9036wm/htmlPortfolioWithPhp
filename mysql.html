<?php
  // 1. Create a database connection
  $dbhost = "localhost";
  $dbuser = "widget_cms";
  $dbpass = "password";
  $dbname = "widget_corp";
  $connection = mysqli_connect($dbhost, $dbuser, $dbpass, $dbname);
  // Test if connection succeeded
  if(mysqli_connect_errno()) {
    die("Database connection failed: " . 
         mysqli_connect_error() . 
         " (" . mysqli_connect_errno() . ")"
    );
  }
?>
<?php
	// 2. Perform database query
	$query  = "SELECT * ";
	$query .= "FROM subjects ";
	$query .= "WHERE visible = 1 ";
	$query .= "ORDER BY position ASC";
	$result = mysqli_query($connection, $query);
	// Test if there was a query error
	if (!$result) {
		die("Database query failed.");
	}
?>





<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>James Tran</title>
<!--CSS
--------------------------------------------------------------------------------- -->
		<link rel="stylesheet" type="text/css" media="all" href="css/main.css">
        
         <link rel="stylesheet" href="fonts/font-awesome/css/font-awesome.min.css">
	</head>

<body >
	<div id="page"><!--beginning -->
	
		<header > 

   
            
		<div class="welcome">
            <h1>Welcome to my World</h1>
        </div>
    	
		</header><!--end top_header-->
		
           

	
	
	
	<main>
		<h1>MySQL</h1>
		<hr><br/>
		
    <div class="noteSubject">
		  
            
           <h3>MySQL Basic </h3>
                <ol>
                    <li>Create Database:
                        <ul>
                            <li> Using command line to login type: "mysql -u root -p" then type password </li>
                            <li> Basic command: SHOW DATABASES;,CREATE DATABASE db_name;, USE db_name;DROP db_name;</li>
                            <li> For security purposes, we shoud issue own username and password for each database. Using command:<br>
                                GRANT ALL PRIVILEGES ON db_name.*<br>
                                TO 'usename'@'localhost'<br>
                                IDENTIFIED BY 'yourpassword';<br>
                                To check type:SHOW GRANTS FOR 'username'@'localhost';<br>
                                Relogin with that particular database: "mysql -u username -p db_name"(enter)then type your password.
                            </li>
                        </ul>
                    </li>
                    
                    <li>Create a Database Table
                        <ul>
                            <li> Basic syntac: SHOW TABLES;, CREATE TABLE tableName();, SHOW COLUMNS FROM table_name;,, DROP TABLE table_name;<br>
                                <img src="images/createTable.png" >
                            
                            </li>
                        </ul>
                    </li>
                    
                    <li>CRUD(Create-Read-Update-Delete) in MySQL
                        <ul>
                            <li>SQL INSERT(Create):<br>
                                INSERT INTO tableName (column1, column2, column3)<br>
                                VALUES (val1, val2, val3);
                            </li>
                            <li>SQL SELECT(read):<br>
                                SELECT *<br>
                                FROM tableName<br>
                                WHERE column1 = 'someText'<br>
                                ORDER BY column1 ASC;
                            </li>
                            <li>SQL UPDATE(Update):<br>
                                UPDATE tableName<br>
                                SET column1= 'someText'<br>
                                WHERE id= 1;
                            </li>
                            <li>SQL DELETE(Delete):<br>
                                DELETE FROM table<br>
                                WHERE id= 1;
                            </li>
                        </ul>
                    </li>   
            <li>Reading data from Database in 5 Steps:
                    <ul>
                            <li> Step1: Create a database connection (located on very top before html page):<br>
                                <img src="images/sqlConection.png" />
                             </li>
                            <li> Step2: Perform database SELECT query (located on very top before html page after step1):<br>
                                <img src="images/readQuery.png" />
                            </li>
                            <li> Step3: Use returned data:<br>
                                <img src="images/readFile.png" /><br>
                                
                            </li>
                            
                            <li> Step4: Release returned data:<br>
                                Before @ the end before the body tag TYPE:<br>
                               &#60; &#10067; php <br>
                                <span style="color:blue">mysqli_free_result</span>($result);<br>
                                &#10067; &#62;
                            
                            </li>
                            <li> Step5: Close datatabase connection <br>
                                Outside the close html tag &#60; &#47; html &#62; TYPE: <br>
                               &#60;  &#10067; php <br>
                                <span style="color:blue">mysqli_close</span>($result);<br>
                             &#10067; &#62;
                            </li>
                            <li> <a href="widgetCorp/readFile.php">Reading Records ( Codes in WidgetCorp/readFile.php" File)</a></li>
                     </ul>
                        
             </li>
             <li>Creating Records with PHP
                 <ul>
                    <li> Step1: Create a database connection (located on very top before html page):<br>
                                <img src="images/sqlConection.png" />
                     </li>
                     
                     <li> Step2: Perform database INSERT query (located on very top before html page after step1):<br>
                                <img src="images/insertQuery.png" />
                     </li>
                      
                     <li> Step3: Close datatabase connection <br>
                                Outside the close html tag &#60; &#47; html &#62; TYPE: <br>
                               &#60;  &#10067; php <br>
                                <span style="color:blue">mysqli_close</span>($result);<br>
                             &#10067; &#62;
                     </li>
                    
                     <li> <a href="widgetCorp/databaseInsert.php">Creating Records ( Codes in WidgetCorp/databaseInsert.php" File)</a>
                     </li>
                </ul>
             </li>
            
            <li>Update and Delete Records
                 <ul>
                    <li> Step1: Create a database connection (located on very top before html page):<br>
                                <img src="images/sqlConection.png" />
                     </li>
                     
                     <li> Step2A: Perform database UPDATE query (located on very top before html page after step1):<br>
                                <img src="images/updateQuery.png" />
                     </li>
                      <li> Step2B: Perform database DELETE query (located on very top before html page after step1):<br>
                                <img src="images/deleteQuery.png" />
                     </li>
                      
                     <li> Step3: Close datatabase connection <br>
                                Outside the close html tag &#60; &#47; html &#62; TYPE: <br>
                               &#60;  &#10067; php <br>
                                <span style="color:blue">mysqli_close</span>($result);<br>
                             &#10067; &#62;
                     </li>
                    
                     <li> <a href="widgetCorp/databaseUpdate.php">Updating Records ( Codes in WidgetCorp/databaseUpdate.php" File)</a>
                     </li>
                     <li> <a href="widgetCorp/databaseDelete.php">Deleting Records ( Codes in WidgetCorp/databaseDelete.php" File)</a>
                     </li>
                </ul>
                    
            </li>
    <li><span style="color:red">The most important notes when working with PHP and SQL</span>
            <ul>
                <li>Setting up Output Buffering for Header(redirecting page)in order not to have to put the Header command 
                        on the top of the page. The process:<br>
                        1- Check phpInfo page to see if output buffering was turned on. if Not: <br>
                        2- Go to "Loaded Configuration File " to get the PATH. <br>
                        3- Follow that path to get to php.ini <br>
                        4- in the php.ini file, find output buffering and change it to 4096 :<br>
                         <img src="images/outputBufferingSetup.png" /><br>
                        5- Go to terminal type: Sudo apachectl restart to update.
                 </li>
                <li>Setting up hashing password space for database in order to get the whole hash for future authentication:<br>
                         <img src="images/varcharForHash.png" />
                </li>
                
            </ul>
        
                    
     </li>
                </ol>
            
        
        
        
    </div>
	</main><!--end main_section-->
	
        <nav>
        <div class="handle">Menu</div>
        <ul id="showing">
            
             <li><a href="index.html">Home</a></li>
        
            <li><a href="#">Front-End Dev </a>
                <ul>
                    <li><a href="html5.html">HTML </a></li>
                    <li><a href="#">CSS </a></li>
                    <li><a href="#">Javascript </a></li>
                </ul>
            </li>
            
            <li><a href="#">Back-End Dev </a>
                <ul>
                    <li><a href="#">PHP </a></li>
                   
                    <li><a href="gitGithub.html">Git &amp; Github</a></li>
                </ul>
            </li>
           
            
            <li><a href="#">Java</a></li>  
            
            
            
        </ul>
        

	</nav><!--end top_menu-->

	<footer>
		<div class="container">
				<div class="row twelve columns">
					<ul class="social">
					<li class="facebook"><a href="https://www.facebook.com"><i class="fa fa-facebook-square fa-lg"></i></a></li>
					<li class="twitter"><a href="https://twitter.com"><i class="fa fa-twitter-square fa-lg"></i></a></li>
					<li class="instagram"><a href="https://www.instagram.com"><i class="fa fa-instagram fa-lg"></i></a></li>
					<li class="flickr"><a href="https://www.flickr.com"><i class="fa fa-flickr fa-lg"></i></a></li>
					<li class="youtube"><a href="https://www.youtube.com"><i class="fa fa-youtube-square fa-lg"></i></a></li>
					<li class="linkedin"><a href="https://www.linkedin.com"><i class="fa fa-linkedin-square fa-lg"></i></a></li>
					</ul>
				</div>
				<div class="row twelve columns">
					<p class="copyright">&copy; 2017 James Tran . All Rights Reserved.</p>
				</div>
			</div>
        
        
    </footer><!--end the_footer-->

</div><!--end page div tag-->
    <script type="text/javascript" src="script.js"></script>


</body>


</html>